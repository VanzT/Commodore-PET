================================================================================
COMMODORE PET COMPUTER - SYSTEM DOCUMENTATION
================================================================================

MACHINE IDENTIFICATION
----------------------
Model:              CBM 3032 (upgraded to 4032 configuration)
Serial Number:      B5001049
Asset Tag:          MO540496-CA (scratched on rear)
Service Tag:        84-14212 (near voltage regulators, possibly 1984 service)
Screen Size:        9-inch (unusual for 4000-series configuration)
Motherboard:        ASSY NO 8032089 (Universal Dynamic PET Board)
Board Stamp:        1102-03 (manufacturing/revision code)

BASIC VERSION
-------------
Startup Message:    *** COMMODORE BASIC 4.0 ***
Memory:             32K RAM
Free Memory:        31,741 bytes

ROM CONFIGURATION
-----------------
Location    Part Number         Function
--------    -----------         --------
UD6         901465-22           Kernal ROM ($F000)
UD7         Custom EPROM        Editor ROM ($E000) - "4080 9" E0 60hz"
UD8         901465-21           BASIC 4 Part 3 ($D000)
UD9         901465-20           BASIC 4 Part 2 ($C000)
UD10        901465-23           BASIC 4 Part 1 ($B000) - Fixed version!
UD11        Unknown chip        Command-O by Rob Chang (c)1980 ($9000)
UD12        MOS 1980 COM40U     Commodore Utility ROM, dated 0981 ($A000)

CUSTOM EDITOR ROM (UD7)
-----------------------
Label:              "4080 9" E0 60hz"
Type:               EPROM (tape label covering window)
Purpose:            Custom editor ROM for 9-inch screen operation
                    - Supports 40-column display mode
                    - Configured for 9-inch monitor (NOT standard 12")
                    - NTSC 60Hz refresh rate
                    - May include 40/80 column switching capability
Significance:       This ROM is likely unique or very rare. It was custom-
                    created to allow the Universal Dynamic PET board (8032089)
                    to work properly with a 9-inch screen. Standard 4032 
                    editor ROMs expect a 12-inch screen.

EXPANSION ROM: COMMAND-O (UD11)
--------------------------------
Location:           UD11 ($9000-$9FFF, 36864-40959 decimal)
Chip Label:         Unmarked (physical inspection)
Software:           Command-O by Rob Chang
Copyright:          (c) 1980
Activation:         SYS 36864
Type:               Third-party utility package
Features:           Programming and development tools including:
                    - RENUMBER: Renumber BASIC programs
                    - FIND: Search for text in programs
                    - AUTO: Automatic line numbering
                    - MERGE: Combine programs
                    - DELETE: Delete line ranges
                    - DUMP: Memory dumps
                    - TRACE: Debug programs
                    - Additional utility commands
Significance:       Popular third-party enhancement for PET development work.
                    Indicates this machine was used for serious programming.

EXPANSION ROM: COM40U (UD12)
-----------------------------
Location:           UD12 ($A000-$AFFF, 40960-45055 decimal)
Chip Label:         MOS 1980 COM40U 0981
Manufacturer:       MOS Technology (Commodore)
Date Code:          0981 (September 1981)
Activation:         SYS 40960 (also SYS 40961, 40962)
Type:               Official Commodore utility ROM
Function:           Machine language monitor/debugger (TIM-like)
                    - Entry points at $A000, $A001, $A002
                    - Provides debugging and development capabilities
                    - Specific to 40-column configurations
Purpose:            COM40U likely stands for "Commodore 40-column Utility"
                    This ROM was probably bundled with upgraded 3032s or
                    early 4032s to provide enhanced development tools.
Significance:       Rare/undocumented Commodore official ROM. May be one of
                    few surviving examples. First byte is $3E (62 decimal),
                    not standard JMP instruction, suggesting specialized
                    initialization or banking logic.
Notes:              SYS to $A000-$A002 drops into TIM monitor
                    SYS to higher addresses ($A028+) causes crash
                    No readable text strings in first 60 bytes
                    This ROM warrants further documentation and preservation

MACHINE HISTORY & CONFIGURATION
--------------------------------
This PET represents an interesting hybrid/upgrade configuration:

1. ORIGINAL CONFIGURATION (circa 1980-1981)
   - Started as a CBM 3032 (9-inch screen, 32K RAM)
   - Likely had BASIC 2.0 or early BASIC 4.0 ROMs
   - "B" prefix serial number suggests "Business keyboard" variant

2. MAJOR UPGRADE (date unknown, possibly early 1980s)
   - Motherboard replaced with Universal Dynamic PET board (8032089)
   - Upgraded to BASIC 4.0 with fixed ROM set (901465-23, not -19)
   - Custom editor ROM created/burned to support 9" screen
   - Maintained 40-column display mode
   - Configuration now functionally equivalent to 4032

3. SERVICE/REPAIR (1984, based on service tag)
   - Work order 84-14212 performed
   - Nature of work unknown

4. INSTITUTIONAL OWNERSHIP
   - Asset tag "MO540496-CA" indicates institutional use
   - Likely owned by school, government office, or business
   - Professional upgrade/customization suggests technical expertise
   - "MO" and "CA" may indicate geographic locations or departments

TECHNICAL SPECIFICATIONS
-------------------------
Processor:          MOS 6502
RAM:                32K dynamic RAM (4116 chips)
Video:              40-column x 25-line display
Character ROM:      2K character generator
Monitor:            9-inch monochrome CRT
Keyboard:           Full-size business keyboard layout
I/O:                IEEE-488, User port, 2x Cassette ports

NOTABLE QUIRKS
--------------
1. BYTE-SWAPPED END-OF-BASIC POINTER
   - PEEK(43)+PEEK(44)*256 returns 43,789 instead of expected ~3,500
   - Value is $AB0D (reversed from expected $0DAB)
   - Programs load and run correctly despite this anomaly
   - FRE(0) returns correct values
   - This quirk is undocumented in known PET literature
   - May be related to custom editor ROM or board revision
   - Not a functional problem, just unusual behavior

2. 9-INCH SCREEN ON UNIVERSAL BOARD
   - The 8032089 board was typically used with 12" screens
   - Custom editor ROM enables proper 9" operation
   - This configuration is uncommon and possibly unique

PERIPHERAL DEVICES
------------------
Connected:          PETdisk MAX v3 (SD card IEEE-488 interface)
                    Device 8, with custom configuration

PRESERVATION NOTES
------------------
Date Documented:    December 17, 2025
Documented By:      Owner (Vance Thompson) working with AI assistant (Claude)
Condition:          Fully functional, all systems operational
Special Care:       - Custom editor ROM (UD7) is irreplaceable
                    - Consider backing up/dumping UD7 EPROM for preservation
                    - ROMs are soldered (not socketed)
                    - Monitor is period-correct 9" CRT

ADDITIONAL OBSERVATIONS
-----------------------
- All BASIC 4.0 commands functional (DLOAD, DSAVE, COPY, SCRATCH, etc.)
- IEEE-488 disk operations work correctly via PETdisk MAX
- Keyboard fully functional
- Display clear and readable
- Programs can be created using custom Python tokenizer for PET BASIC 2.0

TOKENIZER INFORMATION
---------------------
A custom Python tokenizer ("tokenizer-for-BASIC-2.0.py")was developed for 
this PET to properly create .PRG files with correct:
- PET BASIC 2.0 token values (PRINT=$99, END=$80, etc.)
- Proper load address ($0401 for PET)
- Correct line link pointers
- Proper operator tokenization (=, <, >, +, -, *, /, etc.)

The tokenizer creates binary-compatible PRG files that match PET-native
saved files byte-for-byte.

"tokenize-4.0.py" includes disk commands that the 2.0 version omits.

TECHNICAL DISCOVERIES
---------------------
During development, the following PET BASIC tokenization rules were
confirmed:
- Operators (=, <, >, etc.) must be tokenized as single bytes
- Keywords require word-boundary checking to avoid false matches
- Line link pointers point to next line's link address in memory
- Memory address formula: load_addr + (file_offset - 2)

RECOMMENDED FUTURE PRESERVATION
-------------------------------
1. Dump custom editor ROM from UD7 to preserve unique software
2. Document any jumper settings on motherboard
3. Photograph motherboard for reference
4. Test all jumper configurations if possible
5. Create backup of custom editor ROM image
6. Share ROM image with vintage computing preservation community

RESOURCES & REFERENCES
-----------------------
PET Documentation:      http://www.zimmers.net/cbmpics/cbm/PETx/
PET Firmware Archive:   http://www.zimmers.net/anonftp/pub/cbm/firmware/
Universal Dynamic PET:  Used in 4032, 8032, and upgraded 3032 models
Board 8032089:          Supports 40/80 column, 16K/32K configurations

CONTACT INFORMATION FOR PRESERVATION
-------------------------------------
If this machine is ever retired or requires major service, the custom
editor ROM (UD7) should be preserved. Contact vintage computing
preservation groups:
- The VICE Project (PET emulator development)
- Zimmers.net archive maintainers
- Vintage Computer Federation
- Computer History Museum

================================================================================
END OF DOCUMENTATION
Generated: December 17, 2024
This document should be stored with the computer for future reference.
================================================================================
